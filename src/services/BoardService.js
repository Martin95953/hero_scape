import { ref } from 'vue'
import {hero_service} from "@/services/HeroService"
import {enemy_service} from "@/services/EnemyService"

class BoardService {

    static board = []
    constructor() {
        this.board = ref([
            [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
            [0,0,0,0,0,0,0,0,2,2,2,2,2,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0,0,2,2,2,2,2,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0,2,2,2,2,2,0,0,0,0,0,0],
            [0,0,0,0,0,0,2,2,2,2,2,0,0,0,0,0,0,0,0,0],
            [0,0,0,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,1],
            [0,0,0,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,1],
            [2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
        ])

        this.board.value[5][0] = hero_service.getCharacter()
        this.board.value[5][19] = enemy_service.getCharacter()
    }
    getBoard() {
        return this.board.value
    }
    setPosition(x, y, value) {
        this.board.value[x][y] = value
    }
    validateFreePosition(x, y) {
        return this.board.value[x][y] === 0
    }
}

export const board_service = new BoardService()